{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport Button from '../elements/button';\nimport { useState } from 'react';\nimport { fetchAPI } from 'utils/api';\nimport * as yup from 'yup';\nimport { Formik, Form, Field } from 'formik';\n\nconst LeadForm = ({\n  data\n}) => {\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  const LeadSchema = yup.object().shape({\n    email: yup.string().email().required()\n  });\n  return __jsx(\"div\", {\n    className: \"py-10 text-center\"\n  }, __jsx(\"h1\", {\n    className: \"text-3xl mb-10 font-bold mb-2\"\n  }, data.title), __jsx(\"div\", {\n    className: \"flex flex-col items-center\"\n  }, __jsx(Formik, {\n    initialValues: {\n      email: ''\n    },\n    validationSchema: LeadSchema,\n    onSubmit: async (values, {\n      setSubmitting,\n      setErrors\n    }) => {\n      setLoading(true);\n\n      try {\n        setErrors({\n          api: null\n        });\n        await fetchAPI('/lead-form-submissions', {\n          method: 'POST',\n          body: JSON.stringify({\n            email: values.email,\n            location: data.location\n          })\n        });\n      } catch (err) {\n        setErrors({\n          api: err.message\n        });\n      }\n\n      setLoading(false);\n      setSubmitting(false);\n    }\n  }, ({\n    errors,\n    touched,\n    isSubmitting\n  }) => __jsx(\"div\", null, __jsx(Form, {\n    className: \"flex flex-col md:flex-row gap-4\"\n  }, __jsx(Field, {\n    className: \"text-base focus:outline-none py-4 md:py-0 px-4 border-2 rounded-md\",\n    type: \"email\",\n    name: \"email\",\n    placeholder: data.emailPlaceholder\n  }), __jsx(Button, {\n    type: \"submit\",\n    button: data.submitButton,\n    disabled: isSubmitting,\n    loading: loading\n  })), __jsx(\"p\", {\n    className: \"text-red-500 h-12 text-sm mt-1 ml-2 text-left\"\n  }, errors.email && touched.email && errors.email || errors.api)))));\n};\n\nexport default LeadForm;","map":null,"metadata":{},"sourceType":"module"}